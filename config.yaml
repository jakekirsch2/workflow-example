# Workflow Platform Configuration
# This file configures how the orchestrator handles this repository

# Platform settings
platform:
  version: "1.0"
  orchestrator_url: https://workflow-orchestrator.run.app

# GCP settings (can be overridden by environment variables)
gcp:
  project_id: ${GCP_PROJECT_ID}
  region: us-central1
  default_memory: "2Gi"
  default_cpu: "1"
  default_timeout: "30m"

# BigQuery settings
bigquery:
  dataset: ${BQ_DATASET:-sales_data}
  location: US

# Docker build settings
docker:
  base_image: python:3.11-slim
  registry: gcr.io/${GCP_PROJECT_ID}

# Alerting defaults
alerting:
  enabled: true
  default_channel: "#data-pipeline"
  on_failure: true
  on_success: false

# Retry configuration
retry:
  max_attempts: 3
  initial_delay: 60
  max_delay: 3600
  backoff_multiplier: 2

# Logging
logging:
  level: INFO
  structured: true
  include_timestamps: true

# Cost controls
limits:
  max_memory_per_task: "32Gi"
  max_cpu_per_task: "8"
  max_timeout_per_task: "24h"
  max_concurrent_runs: 5
