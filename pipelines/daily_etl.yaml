name: daily-etl
description: "Daily sales data extraction and transformation"
schedule: "0 2 * * *"

tasks:
  - name: extract
    description: "Extract raw sales data from source systems"
    type: python
    function: functions/extract_data.py
    memory: "2Gi"
    cpu: "1"
    timeout: "30m"
    env:
      SOURCE_TABLE: raw_transactions
      BATCH_SIZE: "10000"

  - name: transform
    description: "Clean, validate, and apply business transformations"
    type: python
    function: functions/transform_sales.py
    memory: "4Gi"
    cpu: "2"
    timeout: "45m"
    depends_on:
      - extract
