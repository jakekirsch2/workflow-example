name: daily-etl
description: "Daily sales data extraction and transformation"
schedule: "0 2 * * *"

tasks:
  - name: extract
    description: "Extract raw sales data from source systems"
    type: python
    function: functions/extract_data.py
    entrypoint: main
    args:
      - "raw_transactions"  # source_table
      - "sales_data"        # dataset

  - name: transform
    description: "Clean, validate, and apply business transformations"
    type: python
    function: functions/transform_sales.py
    entrypoint: main
    args: []
    depends_on:
      - extract

  - name: visualize
    description: "Publish revenue chart to a shareable public URL"
    type: python
    function: functions/visualize_sales.py
    entrypoint: main
    vizId: sales-dashboard
    depends_on:
      - transform
